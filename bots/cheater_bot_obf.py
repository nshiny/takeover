from interface import *
from game import *
if 64 - 64: i11iIiiIii
import random
import time
if 65 - 65: O0 / iIii1I11I1II1 % OoooooooOO - i1IIi
if 73 - 73: II111iiii
IiII1IiiIiI1 = list ( )
iIiiiI1IiI1I1 = Bot ( )
o0OoOoOO00 = ""
IiII1IiiIiI1 . append ( Player ( 0 , iIiiiI1IiI1I1 , o0OoOoOO00 ) )
IiII1IiiIiI1 . append ( Player ( 1 , iIiiiI1IiI1I1 , o0OoOoOO00 ) )
IiII1IiiIiI1 . append ( Player ( 2 , iIiiiI1IiI1I1 , o0OoOoOO00 ) )
IiII1IiiIiI1 . append ( Player ( 3 , iIiiiI1IiI1I1 , o0OoOoOO00 ) )
IiII1IiiIiI1 . append ( Player ( 4 , iIiiiI1IiI1I1 , o0OoOoOO00 ) )
IiII1IiiIiI1 . append ( Player ( 5 , iIiiiI1IiI1I1 , o0OoOoOO00 ) )
if 27 - 27: OOOo0 / Oo - Ooo00oOo00o . I1IiI
# TODO record character actions to figure out strategies and adapt.
if 73 - 73: OOooOOo / ii11ii1ii
O00ooOO = { }
if 47 - 47: oO0ooO % iI1Ii11111iIi + ii1II11I1ii1I + oO0o0ooO0 - iiIIIII1i1iI
class o0oO0 ( Bot ) :
 def __init__ ( self , identifier ) :
  self . identifier = identifier
  print ( "I AM: " + str ( identifier ) )
  self . hidden = [ ]
  if 100 - 100: i11Ii11I1Ii1i
 def update_state ( self , states , hidden ) :
  self . states = states
  self . hidden = hidden
  O00ooOO = self . _setKnownStates ( )
  if 67 - 67: iiI1iIiI . ooo0Oo0 * Ooo00oOo00o - O0 . iiI1iIiI * OOooOOo
  if 84 - 84: iIii1I11I1II1 . i11Ii11I1Ii1i / i11Ii11I1Ii1i % i11Ii11I1Ii1i
  for i11 in states :
   if 41 - 41: iiI1iIiI . ooo0Oo0 * i11Ii11I1Ii1i % i11iIiiIii
   IiII1IiiIiI1 [ i11 . identifier ] . PlayerState = i11
   if 74 - 74: iiIIIII1i1iI * i11Ii11I1Ii1i
   if 82 - 82: iIii1I11I1II1 % i11Ii11I1Ii1i
   if 86 - 86: I1IiI % OOOo0
   if 80 - 80: OoooooooOO . OOOo0
   if 87 - 87: oO0ooO / ooo0Oo0 + iiI1iIiI - ooo0Oo0 . ooo0Oo0 / II111iiii
   if 11 - 11: OOOo0 % OOooOOo - Oo
  oo0O000OoO = self . _prioritize ( hidden )
  if 34 - 34: ii1II11I1ii1I * OOOo0
  if 31 - 31: II111iiii + Ooo00oOo00o . iiI1iIiI
  if 68 - 68: OOOo0 - i11iIiiIii - Ooo00oOo00o / iI1Ii11111iIi - Ooo00oOo00o + i1IIi
  if 48 - 48: OoooooooOO % OOooOOo . OOOo0 - oO0o0ooO0 % i1IIi % OoooooooOO
  if 3 - 3: iiIIIII1i1iI + O0
  if 42 - 42: iI1Ii11111iIi / i1IIi + i11iIiiIii - oO0o0ooO0
 def take_action ( self ) :
  O00ooOO = self . _setKnownStates ( )
  oo0Ooo0 = [ I1I11I1I1I . identifier for I1I11I1I1I in self . states if len ( I1I11I1I1I . flipped ) < 2 ]
  oo0Ooo0 . remove ( self . identifier )
  OooO0OO = 7
  if 28 - 28: II111iiii
  if 28 - 28: iIii1I11I1II1 - i1IIi
  if 70 - 70: Ooo00oOo00o . Ooo00oOo00o - Ooo00oOo00o / ii11ii1ii * iI1Ii11111iIi
  if 86 - 86: i11iIiiIii + oO0o0ooO0 + ooo0Oo0 * ii1II11I1ii1I + OOooOOo
  if 61 - 61: Ooo00oOo00o / i11iIiiIii
  if 34 - 34: OoooooooOO + iIii1I11I1II1 + i11iIiiIii - ii11ii1ii + i11iIiiIii
  if 65 - 65: I1IiI
  if 6 - 6: OOOo0 / Oo % oO0o0ooO0
  if 84 - 84: i11iIiiIii . OOooOOo
  if 100 - 100: oO0o0ooO0 - oO0o0ooO0 - iiI1iIiI
  if 20 - 20: OoooooooOO
  if 13 - 13: i1IIi - oO0o0ooO0 % oO0ooO / iIii1I11I1II1 % iiIIIII1i1iI
  if 97 - 97: i11iIiiIii
  if 32 - 32: Oo * O0 % oO0ooO % oO0o0ooO0 . i11Ii11I1Ii1i
  if 61 - 61: ooo0Oo0
  if 79 - 79: Oo + OOOo0 - iiIIIII1i1iI
  if 83 - 83: ooo0Oo0
  if 64 - 64: Ooo00oOo00o % ooo0Oo0 % iiIIIII1i1iI / I1IiI - Ooo00oOo00o
  o0o0oOOOo0oo = random . choice ( oo0Ooo0 )
  o0oo0o0O00OO = [ I1I11I1I1I . identifier for I1I11I1I1I in self . states if len ( I1I11I1I1I . flipped ) == 0 and I1I11I1I1I . coins >= 3 and I1I11I1I1I . identifier != self . identifier ]
  o0oO = [ I1I11I1I1I . identifier for I1I11I1I1I in self . states if len ( I1I11I1I1I . flipped ) == 0 and I1I11I1I1I . identifier != self . identifier ]
  for I1i1iii in IiII1IiiIiI1 :
   if len ( o0oo0o0O00OO ) >= 1 :
    if 20 - 20: OOooOOo
    o0o0oOOOo0oo = o0oo0o0O00OO [ 0 ]
   if len ( o0oO ) >= 1 :
    if 77 - 77: I1IiI / ii1II11I1ii1I
    o0o0oOOOo0oo = o0oO [ 0 ]
    if 98 - 98: iIii1I11I1II1 / i1IIi / i11iIiiIii / OOooOOo
    if 28 - 28: iI1Ii11111iIi - i11Ii11I1Ii1i . i11Ii11I1Ii1i + I1IiI - OoooooooOO + O0
    if 95 - 95: Ooo00oOo00o % oO0ooO . O0
    if 15 - 15: ooo0Oo0 / oO0o0ooO0 . oO0o0ooO0 - i1IIi
    if 53 - 53: i11Ii11I1Ii1i + OOOo0 * oO0ooO
    if 61 - 61: i1IIi * iI1Ii11111iIi / OoooooooOO . i11iIiiIii . I1IiI
  if self . states [ self . identifier ] . coins >= OooO0OO :
   oo0Ooo0 = [ I1I11I1I1I . identifier for I1I11I1I1I in self . states if len ( I1I11I1I1I . flipped ) < 2 ]
   oo0Ooo0 . remove ( self . identifier )
   return TargetedAction ( Action . coup , o0o0oOOOo0oo )
  elif O00ooOO [ Character . duke ] < 2 :
   return Action . tax
  elif Character . captain and O00ooOO [ Character . captain ] < 3 :
   return TargetedAction ( Action . extort , o0o0oOOOo0oo )
  elif Character . assassin in self . hidden and self . states [ self . identifier ] . coins >= 3 :
   return TargetedAction ( Action . assassinate , o0o0oOOOo0oo )
  elif O00ooOO [ Character . duke ] == 3 :
   return Action . foreign_aid
  else :
   return Action . income
   if 60 - 60: ii1II11I1ii1I / ii1II11I1ii1I
 def block_action ( self , actor , action , character , target ) :
  I1II1III11iii = None
  if 75 - 75: iIii1I11I1II1 / iI1Ii11111iIi % OOooOOo * I1IiI
  O00ooOO = self . _setKnownStates ( )
  if len ( self . hidden ) > 0 and action . blockable ( self . hidden [ 0 ] ) :
   I1II1III11iii = self . hidden [ 0 ]
  if len ( self . hidden ) > 1 and action . blockable ( self . hidden [ 1 ] ) :
   I1II1III11iii = self . hidden [ 1 ]
   if 9 - 9: Ooo00oOo00o
  if len ( self . hidden ) > 1 and action . challengeable ( ) :
   I1II1III11iii = True
  elif action == Action . assassinate and O00ooOO [ Character . contessa ] < 3 :
   I1II1III11iii = Character . contessa
  elif len ( self . hidden ) == 1 and action == Action . assassinate and target == self . identifier :
   I1II1III11iii = Character . contessa
  elif action == Action . extort and O00ooOO [ Character . ambassador ] < 3 and target == self . identifier :
   I1II1III11iii = Character . ambassador
  elif action == Action . extort and O00ooOO [ Character . captain ] < 2 and target == self . identifier :
   I1II1III11iii = Character . captain
   if 33 - 33: ooo0Oo0 . iiIIIII1i1iI
  elif action == Action . assassinate and O00ooOO [ Character . contessa ] < 3 :
   I1II1III11iii = Character . contessa
   if 58 - 58: iI1Ii11111iIi * i11iIiiIii / I1IiI % iiI1iIiI - ii11ii1ii / oO0ooO
   if 50 - 50: OOOo0
   if 34 - 34: OOOo0 * II111iiii % iiIIIII1i1iI * I1IiI - OOOo0
  if len ( self . hidden ) == 0 :
   print ( "cannot block: out of game :(" )
   if 33 - 33: OOooOOo + iI1Ii11111iIi * Ooo00oOo00o - Oo / oO0ooO % oO0o0ooO0
   if 21 - 21: Ooo00oOo00o * iIii1I11I1II1 % oO0ooO * i1IIi
   I1II1III11iii = None
   if 16 - 16: O0 - iiI1iIiI * iIii1I11I1II1 + iiIIIII1i1iI
  if I1II1III11iii != None :
   print ( "ACTION WILLBLOCK:character: " + str ( character ) + " - action: " + str ( action ) )
   if 50 - 50: II111iiii - ooo0Oo0 * ii11ii1ii / iiI1iIiI + OOooOOo
  return I1II1III11iii
  if 88 - 88: oO0o0ooO0 / iiI1iIiI + iiIIIII1i1iI - II111iiii / ooo0Oo0 - I1IiI
 def challenge ( self , actor , action , character , target ) :
  if 15 - 15: ii11ii1ii + I1IiI - OoooooooOO / iI1Ii11111iIi
  O00ooOO = self . _setKnownStates ( )
  oo000OO00Oo = False
  if O00ooOO [ character ] == 3 :
   print ( "can't fool me" )
   oo000OO00Oo = True
  if action == Action . block and character == Character . contessa and O00ooOO [ Character . contessa ] >= 3 :
   if 51 - 51: i11Ii11I1Ii1i * OOooOOo + ii1II11I1ii1I + Ooo00oOo00o
   oo000OO00Oo = True
   if 66 - 66: I1IiI
   if 97 - 97: oO0ooO % i11Ii11I1Ii1i * i11Ii11I1Ii1i
   if 39 - 39: oO0o0ooO0 % i11Ii11I1Ii1i
   if 4 - 4: oO0ooO
   if 93 - 93: Ooo00oOo00o % oO0ooO . Ooo00oOo00o * iiI1iIiI % oO0o0ooO0 . II111iiii
   if 38 - 38: OOooOOo
  if oo000OO00Oo :
   print ( "CHALLENGE:character: " + str ( character ) + " - action: " + str ( action ) + ": " + str ( oo000OO00Oo ) )
   if 57 - 57: O0 / oO0ooO * iiI1iIiI / I1IiI . II111iiii
  return oo000OO00Oo
  if 26 - 26: iiIIIII1i1iI
  if 91 - 91: Ooo00oOo00o . ii11ii1ii + Ooo00oOo00o - iiIIIII1i1iI / OoooooooOO
  if 39 - 39: ii11ii1ii / ooo0Oo0 - II111iiii
 def flip ( self ) :
  if len ( self . hidden ) > 1 :
   if Character . contessa in self . hidden :
    if self . hidden [ 0 ] == Character . contessa :
     return self . hidden [ 1 ]
     if 98 - 98: ii11ii1ii / ii1II11I1ii1I % oO0ooO . I1IiI
  oo0O000OoO = self . _prioritize ( self . hidden )
  return self . hidden [ 0 ]
  if 91 - 91: oO0ooO % Oo
 def reveal ( self , challenger , action , character , taret ) :
  if character in self . hidden :
   return character
   if 64 - 64: ii1II11I1ii1I % iiIIIII1i1iI - iiI1iIiI - oO0ooO
  return self . flip ( )
  if 31 - 31: ii1II11I1ii1I - II111iiii . ii1II11I1ii1I
 def exchange ( self , drawn ) :
  oo0O000OoO = self . _prioritize ( list ( self . hidden ) + list ( drawn ) )
  return oo0O000OoO [ - 2 : ]
  if 18 - 18: OOooOOo
 def _prioritize ( self , characters ) :
  oo0O000OoO = [ ]
  oo0O000OoO . extend (
 [ Character . duke ] * characters . count ( Character . duke ) )
  oo0O000OoO . extend (
 [ Character . contessa ] * characters . count ( Character . contessa ) )
  oo0O000OoO . extend (
 [ Character . assassin ] * characters . count ( Character . assassin ) )
  oo0O000OoO . extend (
 [ Character . ambassador ] * characters . count ( Character . ambassador ) )
  oo0O000OoO . extend (
 [ Character . captain ] * characters . count ( Character . captain ) )
  if 98 - 98: iiIIIII1i1iI * iiIIIII1i1iI / iiIIIII1i1iI + ii1II11I1ii1I
  return oo0O000OoO
  if 34 - 34: ooo0Oo0
 def _probOfCharacter ( character ) :
  I1111I1iII11 = self . _setKnownStates ( )
  Oooo0O0oo00oO = 15
  IIi1i = Oooo0O0oo00oO - count ( I1111I1iII11 )
  I1I1iIiII1 = I1111I1iII11 . count ( character )
  if 4 - 4: ooo0Oo0 + O0 * iI1Ii11111iIi
 def _setKnownStates ( self ) :
  OOoo0O = [ ]
  for I1I11I1I1I in self . states :
   OOoo0O += I1I11I1I1I . flipped
   if 67 - 67: i11iIiiIii - i1IIi % ii11ii1ii . O0
  OOoo0O += self . hidden
  if 77 - 77: i11Ii11I1Ii1i / OOOo0
  if 15 - 15: i11Ii11I1Ii1i . iIii1I11I1II1 . OoooooooOO / i11iIiiIii - oO0o0ooO0 . i1IIi
  if 33 - 33: ii1II11I1ii1I . OOooOOo
  if 75 - 75: OOooOOo % OOooOOo . iiI1iIiI
  I1111I1iII11 = { I1I11I1I1I : OOoo0O . count ( I1I11I1I1I ) for I1I11I1I1I in Character }
  if 5 - 5: OOooOOo * ooo0Oo0 + I1IiI . iI1Ii11111iIi + I1IiI
  if 91 - 91: O0
  return I1111I1iII11
  if 61 - 61: II111iiii
  if 64 - 64: ooo0Oo0 / I1IiI - O0 - ii1II11I1ii1I
  if 86 - 86: ii1II11I1ii1I % I1IiI / OOOo0 / I1IiI
  if 42 - 42: Ooo00oOo00o
  for I1I11I1I1I in self . states :
   for o0o in I1I11I1I1I . flipped :
    if 84 - 84: O0
    if Character . duke == o0o :
     O00ooOO [ "Duke" ] += 1
    if Character . assassin == o0o :
     O00ooOO [ "Assassin" ] += 1
    if Character . captain == o0o :
     O00ooOO [ "Captain" ] += 1
    if Character . ambassador == o0o :
     O00ooOO [ "Ambassador" ] += 1
    if Character . contessa == o0o :
     O00ooOO [ "Contessa" ] += 1
   for o0o in hidden :
    if 74 - 74: ii11ii1ii - OOOo0 - Oo . oO0o0ooO0 - i11Ii11I1Ii1i
    if Character . duke == o0o :
     O00ooOO [ "Duke" ] += 1
    if Character . assassin == o0o :
     O00ooOO [ "Assassin" ] += 1
    if Character . captain == o0o :
     O00ooOO [ "Captain" ] += 1
    if Character . ambassador == o0o :
     O00ooOO [ "Ambassador" ] += 1
    if Character . contessa == o0o :
     O00ooOO [ "Contessa" ] += 1
     if 73 - 73: Oo - i1IIi - i1IIi - iiIIIII1i1iI . oO0o0ooO0 + ii11ii1ii
  return O00ooOO
  if 81 - 81: iiIIIII1i1iI * oO0ooO - iiI1iIiI . II111iiii % ii1II11I1ii1I / OOOo0
  if 34 - 34: i11Ii11I1Ii1i
  if 57 - 57: oO0ooO . ii1II11I1ii1I . i1IIi
  if 42 - 42: ii1II11I1ii1I + ii11ii1ii % O0
def make_bot ( identifier ) :
 return o0oO0 ( identifier ) # dd678faae9ac167bc83abf78e5cb2f3f0688d3a3
